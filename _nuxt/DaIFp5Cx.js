import{r as x}from"./CQoP775t.js";import{_ as I}from"./Ez-hZmga.js";import{e as m,_ as d,f as D,o as a,w as g,a as t,t as _,r as $,c,g as y,F as h,h as L,b,i as v,j as N,k,l as p,u as S,m as w}from"#entry";const C=m({name:"IssueDigest",props:{milestone:{type:Object,required:!0}}}),B={class:"flex flex-col items-baseline sm:flex-row"},U={class:"font-roboto text-xl font-medium"},H={class:"ml-0 text-sm text-gray-500 sm:ml-2"},M=["innerHTML"];function P(e,s,o,l,n,r){const i=I;return a(),D(i,{class:"IssueDigest flex p-4",to:`issue/${e.milestone.path}/`},{default:g(()=>[t("div",null,[t("div",B,[t("p",U,"#"+_(e.milestone.title),1),t("p",H,_(e.milestone.issues.totalCount)+"件のリンク ",1)]),t("p",{class:"IssueDigest__summary mt-1 line-clamp-2 text-gray-500",innerHTML:e.milestone.description},null,8,M)])]),_:1},8,["to"])}const T=d(C,[["render",P]]),j=m({name:"IssueDigestList",components:{IssueDigest:T},props:{milestones:{type:Array,required:!0}}}),q={class:"IssueDigestList border border-gray-200 bg-white sm:rounded-md"};function A(e,s,o,l,n,r){const i=$("IssueDigest");return a(),c("div",q,[t("ul",null,[(a(!0),c(h,null,L(e.milestones,(u,f)=>(a(),c("li",{key:f,class:"IssueDigestList__item hover:bg-gray-100"},[b(i,{milestone:u,index:f,class:""},null,8,["milestone","index"])]))),128))]),y(e.$slots,"bottom",{},void 0,!0)])}const E=d(j,[["render",A],["__scopeId","data-v-bcf1d499"]]),F=m({name:"Index",components:{IssueDigestList:E},setup(){const e=v(),s=N(),o=k(),l=p(()=>o.digests),n=p(()=>o.pageInfo),r=async()=>{await o.fetchNextDigests(n.value?.endCursor??void 0)};return S(p(()=>({title:e.$config.public.title,meta:[...x({title:e.$config.public.title,description:e.$config.public.description,url:`${e.$config.public.baseUrl}${s.fullPath}`})]}))),{baseUrl:e.$config.public.baseUrl,siteTitle:e.$config.public.title,siteDescription:e.$config.public.description,milestones:l,pageInfo:n,onLoadNext:r}}}),O={class:"mx-auto max-w-2xl px-0 pb-12 pt-10 lg:pb-16"};function V(e,s,o,l,n,r){const i=$("IssueDigestList");return a(),c("main",O,[s[2]||(s[2]=t("h2",{class:"px-3 font-roboto text-2xl font-semibold"},"ISSUES",-1)),b(i,{class:"mt-3",milestones:e.milestones},w({_:2},[e.pageInfo?.hasNextPage?{name:"bottom",fn:g(()=>[t("button",{class:"LoadNextButton",onClick:s[0]||(s[0]=(...u)=>e.onLoadNext&&e.onLoadNext(...u))},[...s[1]||(s[1]=[t("iconify-icon",{icon:"ic:baseline-expand-more",width:"24"},null,-1),t("span",{class:"sr-only"}," 次の記事を読み込む ",-1)])])]),key:"0"}:void 0]),1032,["milestones"])])}const J=d(F,[["render",V],["__scopeId","data-v-5e4265cd"]]);export{J as default};
