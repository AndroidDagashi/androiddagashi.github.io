import{r as x}from"./WNg_p6Wv.js";import{_ as I}from"./qqxiDmMQ.js";import{e as m,_ as d,f as D,o as a,w as f,a as t,t as _,r as b,c,g as y,F as L,h,b as $,i as v,j as N,k,l as p,u as S,m as w}from"./DWhTr98o.js";const C=m({name:"IssueDigest",props:{milestone:{type:Object,required:!0}}}),O={class:"flex flex-col items-baseline sm:flex-row"},B={class:"font-roboto text-xl font-medium"},j={class:"ml-0 text-sm text-gray-500 sm:ml-2"},U=["innerHTML"];function H(s,e,o,r,n,l){const i=I;return a(),D(i,{class:"IssueDigest flex p-4",to:`/issue/${s.milestone.path}/`},{default:f(()=>[t("div",null,[t("div",O,[t("p",B,"#"+_(s.milestone.title),1),t("p",j,_(s.milestone.issues.totalCount)+"件のリンク ",1)]),t("p",{class:"IssueDigest__summary mt-1 line-clamp-2 text-gray-500",innerHTML:s.milestone.description},null,8,U)])]),_:1},8,["to"])}const M=Object.assign(d(C,[["render",H]]),{__name:"OrganismsIssueDigest"}),P=m({name:"IssueDigestList",components:{IssueDigest:M},props:{milestones:{type:Array,required:!0}}}),T={class:"IssueDigestList border border-gray-200 bg-white sm:rounded-md"};function q(s,e,o,r,n,l){const i=b("IssueDigest");return a(),c("div",T,[t("ul",null,[(a(!0),c(L,null,h(s.milestones,(u,g)=>(a(),c("li",{key:g,class:"IssueDigestList__item hover:bg-gray-100"},[$(i,{milestone:u,index:g,class:""},null,8,["milestone","index"])]))),128))]),y(s.$slots,"bottom",{},void 0,!0)])}const A=Object.assign(d(P,[["render",q],["__scopeId","data-v-bcf1d499"]]),{__name:"OrganismsIssueDigestList"}),E=m({name:"Index",components:{IssueDigestList:A},setup(){const s=v(),e=N(),o=k(),r=p(()=>o.digests),n=p(()=>o.pageInfo),l=async()=>{await o.fetchNextDigests(n.value?.endCursor??void 0)};return S(p(()=>({title:s.$config.public.title,meta:[...x({title:s.$config.public.title,description:s.$config.public.description,url:`${s.$config.public.baseUrl}${e.fullPath}`})]}))),{baseUrl:s.$config.public.baseUrl,siteTitle:s.$config.public.title,siteDescription:s.$config.public.description,milestones:r,pageInfo:n,onLoadNext:l}}}),F={class:"mx-auto max-w-2xl px-0 pb-12 pt-10 lg:pb-16"};function V(s,e,o,r,n,l){const i=b("IssueDigestList");return a(),c("main",F,[e[2]||(e[2]=t("h2",{class:"px-3 font-roboto text-2xl font-semibold"},"ISSUES",-1)),$(i,{class:"mt-3",milestones:s.milestones},w({_:2},[s.pageInfo?.hasNextPage?{name:"bottom",fn:f(()=>[t("button",{class:"LoadNextButton",onClick:e[0]||(e[0]=(...u)=>s.onLoadNext&&s.onLoadNext(...u))},[...e[1]||(e[1]=[t("iconify-icon",{icon:"ic:baseline-expand-more",width:"24"},null,-1),t("span",{class:"sr-only"}," 次の記事を読み込む ",-1)])])]),key:"0"}:void 0]),1032,["milestones"])])}const J=d(E,[["render",V],["__scopeId","data-v-5e4265cd"]]);export{J as default};
